{% extends "base.html" %}

{% block content %}
<h2>Maintenance Logs</h2>
<a href="{% url 'add_maintenance_log' %}" class="btn btn-primary">Add Log</a>
<table class="table table-striped mt-4">

    <thead>
        <tr>
            <th><a href="?sort=inventory_item__product_name">Inventory Item</a></th>
            <th><a href="?sort=last_maintenance_date">Last Maintenance Date</a></th>
            <th><a href="?sort=light_bulb_hours">Light Bulb Hours</a></th>
            <th><a href="?sort=product_model">Product Model</a></th>
            <th><a href="?sort=ballast_unit">Ballast Unit</a></th>
            <th>Notes</th>
        </tr>
    </thead>

    <tbody>
        {% for log in logs %}
        <tr>
            <td>
                <a href="{% url 'edit_inventory_item' log.inventory_item.id %}">
                    {{ log.inventory_item.product_name }}
                </a>
            </td>
            <td>{{ log.last_maintenance_date }}</td>
            <td>{{ log.light_bulb_hours }}</td>
            <td>{{ log.product_model }}</td>
            <td>{{ log.ballast_unit }}</td>
            <td>{{ log.notes }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="6">No maintenance logs available.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
